# =============================================================================
# Apulu Suite Backend Environment Configuration
# =============================================================================
# SECURITY WARNING: Never commit real credentials to version control!
# Copy this file to .env and replace placeholders with actual values.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Apulu Studio
DEBUG=false
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-minimum-32-characters-change-in-production

# Encryption key for OAuth tokens (Fernet symmetric encryption)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Keep this key secure and backed up. Losing it means losing access to encrypted tokens.
ENCRYPTION_KEY=

# -----------------------------------------------------------------------------
# Database & Supabase
# -----------------------------------------------------------------------------
# Supabase project URL (found in Project Settings > API)
SUPABASE_URL=https://your-project-ref.supabase.co
# Supabase anon/public key (safe for client-side, found in Project Settings > API)
SUPABASE_KEY=your-supabase-anon-key
# Supabase service role key (server-side only, found in Project Settings > API)
SUPABASE_SERVICE_KEY=your-supabase-service-role-key
# PostgreSQL connection string (found in Project Settings > Database > Connection string)
# Format: postgresql+asyncpg://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/apulu

# Database SSL Mode - Controls how SSL is used for database connections
# Options:
#   - disable:     No SSL (INSECURE - only for local development)
#   - allow:       Use SSL if available, fallback to non-SSL
#   - prefer:      Prefer SSL, fallback to non-SSL if unavailable
#   - require:     Require SSL but don't verify certificates (default)
#   - verify-ca:   Require SSL and verify CA certificate
#   - verify-full: Require SSL, verify CA cert AND hostname (RECOMMENDED for production)
DATABASE_SSL_MODE=require

# Path to CA certificate file (required for verify-ca and verify-full modes)
# For Supabase, download the CA cert from your project's database settings
# Leave empty to use system CA certificates
DATABASE_SSL_CA_CERT=

# -----------------------------------------------------------------------------
# Redis (for caching & background tasks)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# AI Providers (at least one required for AI features)
# -----------------------------------------------------------------------------
# OpenAI API key (from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-api-key
# Anthropic API key (from https://console.anthropic.com/settings/keys)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
# Which AI provider to use: "openai" or "anthropic"
AI_PROVIDER=openai

# -----------------------------------------------------------------------------
# LATE API (Instagram, Threads, TikTok integration)
# -----------------------------------------------------------------------------
# Get your API key from https://getlate.dev
LATE_API_KEY=your-late-api-key
LATE_SYNC_INTERVAL_SECONDS=300
# Optional: user ID used by the background LATE sync job (set this in production)
LATE_SYNC_USER_ID=

# -----------------------------------------------------------------------------
# Meta Platform (Instagram, Facebook, Threads)
# -----------------------------------------------------------------------------
# Create app at https://developers.facebook.com/apps/
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
# Long-lived access token (generate via Graph API Explorer)
META_ACCESS_TOKEN=your-meta-long-lived-access-token
# Instagram Business Account ID
IG_USER_ID=your-instagram-business-user-id
# Facebook Page ID
FB_PAGE_ID=your-facebook-page-id
# Threads User ID (same as Instagram for most cases)
THREADS_USER_ID=your-threads-user-id

# -----------------------------------------------------------------------------
# Bluesky (AT Protocol)
# -----------------------------------------------------------------------------
# Your Bluesky handle (e.g., yourname.bsky.social)
BLUESKY_HANDLE=your-handle.bsky.social
# App password (create at Settings > App Passwords, NOT your main password)
BLUESKY_APP_PASSWORD=your-bluesky-app-password

# -----------------------------------------------------------------------------
# LinkedIn
# -----------------------------------------------------------------------------
# Create app at https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# -----------------------------------------------------------------------------
# X (Twitter) - Optional, requires paid API tier
# -----------------------------------------------------------------------------
# Create app at https://developer.twitter.com/en/portal/dashboard
X_API_KEY=your-x-api-key
X_API_SECRET=your-x-api-secret
X_ACCESS_TOKEN=your-x-access-token
X_ACCESS_SECRET=your-x-access-token-secret

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
# Frontend URL (for CORS and OAuth callbacks)
FRONTEND_URL=http://localhost:3000
# Backend URL (for generating callback URLs)
BACKEND_URL=http://localhost:8000
